(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){var a,r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/**!
 * easy-pie-chart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license 
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.7
 **/a=[n(1)],void 0===(r=function(e){return n=function(e,t){var n,a=document.createElement("canvas");e.appendChild(a),"object"===("undefined"==typeof G_vmlCanvasManager?"undefined":i(G_vmlCanvasManager))&&G_vmlCanvasManager.initElement(a);var r=a.getContext("2d");a.width=a.height=t.size;var o=1;window.devicePixelRatio>1&&(o=window.devicePixelRatio,a.style.width=a.style.height=[t.size,"px"].join(""),a.width=a.height=t.size*o,r.scale(o,o)),r.translate(t.size/2,t.size/2),r.rotate((t.rotate/180-.5)*Math.PI);var c=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(c-=t.scaleLength+2),Date.now=Date.now||function(){return+new Date};var l=function(e,t,n){var a=(n=Math.min(Math.max(-1,n||0),1))<=0;r.beginPath(),r.arc(0,0,c,0,2*Math.PI*n,a),r.strokeStyle=e,r.lineWidth=t,r.stroke()},s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},u=function(){t.scaleColor&&function(){var e,n;r.lineWidth=1,r.fillStyle=t.scaleColor,r.save();for(var a=24;a>0;--a)a%6==0?(n=t.scaleLength,e=0):(n=.6*t.scaleLength,e=t.scaleLength-n),r.fillRect(-t.size/2+e,0,n,1),r.rotate(Math.PI/12);r.restore()}(),t.trackColor&&l(t.trackColor,t.trackWidth||t.lineWidth,1)};this.getCanvas=function(){return a},this.getCtx=function(){return r},this.clear=function(){r.clearRect(t.size/-2,t.size/-2,t.size,t.size)},this.draw=function(e){var a;t.scaleColor||t.trackColor?r.getImageData&&r.putImageData?n?r.putImageData(n,0,0):(u(),n=r.getImageData(0,0,t.size*o,t.size*o)):(this.clear(),u()):this.clear(),r.lineCap=t.lineCap,a="function"==typeof t.barColor?t.barColor(e):t.barColor,l(a,t.lineWidth,e/100)}.bind(this),this.animate=function(e,n){var a=Date.now();t.onStart(e,n);var r=function(){var i=Math.min(Date.now()-a,t.animate.duration),o=t.easing(this,i,e,n-e,t.animate.duration);this.draw(o),t.onStep(e,n,o),i>=t.animate.duration?t.onStop(e,n):s(r)}.bind(this);s(r)}.bind(this)},a=function(e,t){var a={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,n,a,r){return(t/=r/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},onStart:function(e,t){},onStep:function(e,t,n){},onStop:function(e,t){}};if(void 0!==n)a.renderer=n;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");a.renderer=SVGRenderer}var r={},i=0,o=function(){for(var n in this.el=e,this.options=r,a)a.hasOwnProperty(n)&&(r[n]=t&&void 0!==t[n]?t[n]:a[n],"function"==typeof r[n]&&(r[n]=r[n].bind(this)));"string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?r.easing=jQuery.easing[r.easing]:r.easing=a.easing,"number"==typeof r.animate&&(r.animate={duration:r.animate,enabled:!0}),"boolean"!=typeof r.animate||r.animate||(r.animate={duration:1e3,enabled:r.animate}),this.renderer=new r.renderer(e,r),this.renderer.draw(i),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(e){return e=parseFloat(e),r.animate.enabled?this.renderer.animate(i,e):this.renderer.draw(e),i=e,this}.bind(this),this.disableAnimation=function(){return r.animate.enabled=!1,this},this.enableAnimation=function(){return r.animate.enabled=!0,this},o()},void((t=e).fn.easyPieChart=function(e){return this.each((function(){var n;t.data(this,"easyPieChart")||(n=t.extend({},e,t(this).data()),t.data(this,"easyPieChart",new a(this,n)))}))});var t,n,a}.apply(t,a))||(e.exports=r)},19:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);n(13),n(14);var a=n(1),r=n.n(a),i=n(11),o=n.n(i),c=(n(17),n(18),n(19),n(12)),l=n.n(c),s=n(6),u=n.n(s),m=n(0),d=n.n(m);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,a,r=g(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this)).state={value:""},e.handleChange=e.handleChange.bind(v(e)),e}return t=i,(n=[{key:"handleChange",value:function(e){var t=e.target.value;this.setState((function(){return{value:t}}))}},{key:"render",value:function(){var e=this.props.items.map((function(e){return d.a.createElement("div",{key:e.title,className:"grid-item col-sm-6 col-md-3 col-lg-3 "+e.category},d.a.createElement("div",{className:"portfolio-item"},d.a.createElement("div",{className:"hover-bg"},d.a.createElement("a",{href:e.link,target:"_blank",title:e.description},d.a.createElement("div",{className:"hover-text"},d.a.createElement("h4",null,e.title),d.a.createElement("small",null,e.description)),d.a.createElement("img",{src:e.imgSmall,className:"img-fluid",alt:e.title})))))}));return d.a.createElement("div",{className:"grid-items row"},e)}}])&&f(t.prototype,n),a&&f(t,a),i}(m.Component),S=n(3);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(){var e=Object(S.useCountUp)({end:30,duration:5,startOnMount:!1}),t=e.countUp,n=e.start,a=Object(S.useCountUp)({end:11680,duration:5,startOnMount:!1}),i=a.countUp,o=a.start,c=Object(S.useCountUp)({end:13,duration:5,startOnMount:!1}),l=c.countUp,s=c.start,u=Object(S.useCountUp)({end:60,duration:5,startOnMount:!1}),p=u.countUp,f=u.start,h=E(Object(m.useState)(0),2),g=h[0],y=h[1];return Object(m.useEffect)((function(){function e(e){r()(window).scrollTop()-r()("#achievements").offset().top+window.innerHeight>0&&0===g&&(n(),o(),s(),f(),y(1))}return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}})),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"section-title center"},d.a.createElement("h2",null,"Some Stats"),d.a.createElement("hr",null)),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-3 col-sm-3 wow fadeInDown","data-wow-delay":"200ms"},d.a.createElement("div",{className:"achievement-box"},d.a.createElement("span",{className:"count"},t),d.a.createElement("h4",null,"Project Launched"))),d.a.createElement("div",{className:"col-md-3 col-sm-3 wow fadeInDown","data-wow-delay":"400ms"},d.a.createElement("div",{className:"achievement-box"},d.a.createElement("span",{className:"count"},i),d.a.createElement("h4",null,"Hours of Work"))),d.a.createElement("div",{className:"col-md-3 col-sm-3 wow fadeInDown","data-wow-delay":"800ms"},d.a.createElement("div",{className:"achievement-box"},d.a.createElement("span",{className:"count"},l),d.a.createElement("h4",null,"Years of Engineering Exp"))),d.a.createElement("div",{className:"col-md-3 col-sm-3 wow fadeInDown","data-wow-delay":"600ms"},d.a.createElement("div",{className:"achievement-box"},d.a.createElement("span",{className:"count"},p),d.a.createElement("h4",null,"Mountains Hiked")))))}var k=document.getElementById("portfolio-grid");k&&u.a.render(d.a.createElement(w,{items:[{title:"Staroyale.io",description:"the best web spaceship battle royale",category:"web game",imgSmall:"../img/projects/staroyale.png",link:"//staroyale.io"},{title:"Quill VR",description:"the VR animation painter (Owned by Facebook)",category:"app",imgSmall:"../img/projects/quill.png",link:"//quill.fb.com"},{title:"geom2.js",description:"A light weight js geometry and physics engine",category:"web game",imgSmall:"../img/projects/geom2.js.png",link:"//github.com/Alchemist0823/geom2.js"},{title:"threejs.quarks",description:"the most comprehensive ThreeJs Particle System",category:"web game",imgSmall:"../img/projects/three.quarks.png",link:"//github.com/Alchemist0823/three.quarks"},{title:"Astrocraft",description:"A mobile strategy game that allows users to design their own units",category:"app game",imgSmall:"../img/projects/astro-craft.png",link:"//astro-craft.com"},{title:"Goodi (archived)",description:"An academic Question Marketplace",category:"app",imgSmall:"../img/projects/goodiinc.png",link:"//www.facebook.com/goodiinc"},{title:"Zener 3D Engine",description:"A Data-Centered Entity System 3D Game engine written in Java. It is a free software released under GNU GPL v3.",category:"app",imgSmall:"../img/projects/zener.png",link:"//github.com/Alchemist0823/zener"},{title:"My Minecraft Shop (archived)",description:"An integrated Minecraft Server shopping and website system supporting Chinese Alipay payment method and real-time virtual good transaction.",category:"server",imgSmall:"../img/projects/mymcshop.png",link:"//mymcshop.com"},{title:"OIer C++ (archived)",description:"An C++ integrated development environment for preparing algorithm compition and education purpose.",category:"app",imgSmall:"../img/projects/oiercpp.png",link:"//www.n8lm.cn/product/?id=1"},{title:"Tribe Age (unfinished)",description:"A Turn-based Strategy Role-Playing Game powered by Zener 3D Engine in development",category:"game",imgSmall:"../img/projects/zener.png",link:"//github.com/Alchemist0823/tribeage"}]}),k);var O=document.getElementById("achievements");O&&u.a.render(d.a.createElement(j,null),O),r()((function(){o()("isotope",l.a,r.a),r()(".grid-items").isotope({itemSelector:".grid-item",percentPosition:!0,layoutMode:"fitRows",filter:"*",animationOptions:{duration:750,easing:"linear",queue:!1}}),r()(".cat a").click((function(){r()(".cat .active").removeClass("active"),r()(this).addClass("active");var e=r()(this).attr("data-filter");return r()(".grid-items").isotope({itemSelector:".grid-item",percentPosition:!0,layoutMode:"fitRows",filter:e,animationOptions:{duration:750,easing:"linear",queue:!1}}),!1}));var e=0;r()(document).scroll((function(){r()(window).scrollTop()-r()("#skills").offset().top+window.innerHeight>0&&(0===e&&r()(".chart").easyPieChart({size:152,lineWidth:8,barColor:"#121d1f",scaleColor:!1,easing:"easeOutBounce",onStep:function(e,t,n){r()(this.el).find(".percent").text(Math.round(n))}}),e++)}))}))}},[[35,1,2]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanF1ZXJ5LmVhc3lwaWVjaGFydC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9HcmlkU3lzdGVtLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1N0YXRzQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJhMCIsIkNhbnZhc1JlbmRlcmVyIiwiZWwiLCJvcHRpb25zIiwiY2FjaGVkQmFja2dyb3VuZCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiR192bWxDYW52YXNNYW5hZ2VyIiwiaW5pdEVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJzaXplIiwic2NhbGVCeSIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJzdHlsZSIsImpvaW4iLCJzY2FsZSIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsIk1hdGgiLCJQSSIsInJhZGl1cyIsImxpbmVXaWR0aCIsInNjYWxlQ29sb3IiLCJzY2FsZUxlbmd0aCIsIkRhdGUiLCJub3ciLCJkcmF3Q2lyY2xlIiwiY29sb3IiLCJwZXJjZW50IiwiaXNOZWdhdGl2ZSIsIm1pbiIsIm1heCIsImJlZ2luUGF0aCIsImFyYyIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwicmVxQW5pbWF0aW9uRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxsYmFjayIsInNldFRpbWVvdXQiLCJkcmF3QmFja2dyb3VuZCIsIm9mZnNldCIsImxlbmd0aCIsImZpbGxTdHlsZSIsInNhdmUiLCJpIiwiZmlsbFJlY3QiLCJyZXN0b3JlIiwiZHJhd1NjYWxlIiwidHJhY2tDb2xvciIsInRyYWNrV2lkdGgiLCJ0aGlzIiwiZ2V0Q2FudmFzIiwiZ2V0Q3R4IiwiY2xlYXIiLCJjbGVhclJlY3QiLCJkcmF3IiwiZ2V0SW1hZ2VEYXRhIiwicHV0SW1hZ2VEYXRhIiwibGluZUNhcCIsImJhckNvbG9yIiwiYmluZCIsImFuaW1hdGUiLCJmcm9tIiwidG8iLCJzdGFydFRpbWUiLCJvblN0YXJ0IiwiYW5pbWF0aW9uIiwicHJvY2VzcyIsImR1cmF0aW9uIiwiY3VycmVudFZhbHVlIiwiZWFzaW5nIiwib25TdGVwIiwib25TdG9wIiwiRWFzeVBpZUNoYXJ0Iiwib3B0cyIsImRlZmF1bHRPcHRpb25zIiwidW5kZWZpbmVkIiwiZW5hYmxlZCIsIngiLCJ0IiwiYiIsImMiLCJkIiwicmVuZGVyZXIiLCJTVkdSZW5kZXJlciIsIkVycm9yIiwiaW5pdCIsImhhc093blByb3BlcnR5IiwialF1ZXJ5IiwiaXNGdW5jdGlvbiIsImRhdGFzZXQiLCJ1cGRhdGUiLCJwYXJzZUZsb2F0IiwiZ2V0QXR0cmlidXRlIiwibmV3VmFsdWUiLCJkaXNhYmxlQW5pbWF0aW9uIiwiZW5hYmxlQW5pbWF0aW9uIiwiJCIsImZuIiwiZWFzeVBpZUNoYXJ0IiwiZWFjaCIsImluc3RhbmNlT3B0aW9ucyIsImRhdGEiLCJleHRlbmQiLCJHcmlkU3lzdGVtIiwic3RhdGUiLCJ2YWx1ZSIsImhhbmRsZUNoYW5nZSIsImV2ZW50IiwidGFyZ2V0Iiwic2V0U3RhdGUiLCJsaXN0SXRlbXMiLCJwcm9wcyIsIml0ZW1zIiwibWFwIiwiaXRlbSIsImtleSIsInRpdGxlIiwiY2xhc3NOYW1lIiwiY2F0ZWdvcnkiLCJocmVmIiwibGluayIsImRlc2NyaXB0aW9uIiwic3JjIiwiaW1nU21hbGwiLCJhbHQiLCJDb21wb25lbnQiLCJTdGF0c0NvbXBvbmVudCIsInVzZUNvdW50VXAiLCJlbmQiLCJzdGFydE9uTW91bnQiLCJjb3VudFVwMSIsImNvdW50VXAiLCJzdGFydDEiLCJzdGFydCIsImNvdW50VXAyIiwic3RhcnQyIiwiY291bnRVcDMiLCJzdGFydDMiLCJjb3VudFVwNCIsInN0YXJ0NCIsInVzZVN0YXRlIiwic3RhcnRlZCIsInNldFN0YXJ0ZWQiLCJ1c2VFZmZlY3QiLCJsaXN0ZW5TY3JvbGxFdmVudCIsImUiLCJzY3JvbGxUb3AiLCJ0b3AiLCJpbm5lckhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGF0YS13b3ctZGVsYXkiLCJ3cmFwcGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJSZWFjdERvbSIsInJlbmRlciIsImFjaGlldmVtZW50cyIsImpRdWVyeUJyaWRnZXQiLCJJc290b3BlIiwiaXNvdG9wZSIsIml0ZW1TZWxlY3RvciIsInBlcmNlbnRQb3NpdGlvbiIsImxheW91dE1vZGUiLCJmaWx0ZXIiLCJhbmltYXRpb25PcHRpb25zIiwicXVldWUiLCJjbGljayIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzZWxlY3RvciIsImF0dHIiLCJpbmRleCIsInNjcm9sbCIsImZpbmQiLCJ0ZXh0Iiwicm91bmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0lBWUlBLEVBQU8sQ0FBQyxXQUFGLGdCQUF1QkMsR0FDM0IsT0FpQkZDLEVBQWlCLFNBQVNDLEVBQUlDLEdBQ2pDLElBQUlDLEVBQ0FDLEVBQVNDLFNBQVNDLGNBQWMsVUFFcENMLEVBQUdNLFlBQVlILEdBRW9CLFlBQS9CLG9CQUFPSSxtQkFBUCxjQUFPQSxzQkFDVkEsbUJBQW1CQyxZQUFZTCxHQUdoQyxJQUFJTSxFQUFNTixFQUFPTyxXQUFXLE1BRTVCUCxFQUFPUSxNQUFRUixFQUFPUyxPQUFTWCxFQUFRWSxLQUd2QyxJQUFJQyxFQUFVLEVBQ1ZDLE9BQU9DLGlCQUFtQixJQUM3QkYsRUFBVUMsT0FBT0MsaUJBQ2pCYixFQUFPYyxNQUFNTixNQUFRUixFQUFPYyxNQUFNTCxPQUFTLENBQUNYLEVBQVFZLEtBQU0sTUFBTUssS0FBSyxJQUNyRWYsRUFBT1EsTUFBUVIsRUFBT1MsT0FBU1gsRUFBUVksS0FBT0MsRUFDOUNMLEVBQUlVLE1BQU1MLEVBQVNBLElBSXBCTCxFQUFJVyxVQUFVbkIsRUFBUVks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VkUsT0FBUSxTQUNSZ0csT0FBTyxLQUdmckUsSUFBRSxVQUFVc0UsT0FBTSxXQUNkdEUsSUFBRSxnQkFBZ0J1RSxZQUFZLFVBQzlCdkUsSUFBRS9DLE1BQU11SCxTQUFTLFVBQ2pCLElBQUlDLEVBQVd6RSxJQUFFL0MsTUFBTXlILEtBQUssZUFZNUIsT0FYQTFFLElBQUUsZUFBZStELFFBQVEsQ0FDckJDLGFBQWMsYUFDZEMsaUJBQWlCLEVBQ2pCQyxXQUFZLFVBQ1pDLE9BQVFNLEVBQ1JMLGlCQUFrQixDQUNkakcsU0FBVSxJQUNWRSxPQUFRLFNBQ1JnRyxPQUFPLE1BR1IsS0FJWCxJQUFJTSxFQUFNLEVBQ1YzRSxJQUFFcEcsVUFBVWdMLFFBQU8sV0FDTDVFLElBQUV6RixRQUFRMkksWUFBY2xELElBQUUsV0FBV3pELFNBQVM0RyxJQUFNNUksT0FBTzZJLFlBQzlELElBQ1EsSUFBUnVCLEdBQ0MzRSxJQUFFLFVBQVVFLGFBQWEsQ0FDckI3RixLQUFNLElBQ05ZLFVBQVcsRUFDWHlDLFNBQVUsVUFDVnhDLFlBQVksRUFDWm1ELE9BQVEsZ0JBQ1JDLE9BQVEsU0FBU1QsRUFBTUMsRUFBSXRDLEdBQ3ZCd0UsSUFBRS9DLEtBQUt6RCxJQUFJcUwsS0FBSyxZQUFZQyxLQUFLaEssS0FBS2lLLE1BQU12SixPQUl4RG1KLGEiLCJmaWxlIjoiYXBwLjMxNDQ3MGNmZWI3ZTAzODE5ZmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIVxuICogZWFzeS1waWUtY2hhcnRcbiAqIExpZ2h0d2VpZ2h0IHBsdWdpbiB0byByZW5kZXIgc2ltcGxlLCBhbmltYXRlZCBhbmQgcmV0aW5hIG9wdGltaXplZCBwaWUgY2hhcnRzXG4gKlxuICogQGxpY2Vuc2UgXG4gKiBAYXV0aG9yIFJvYmVydCBGbGVpc2NobWFubiA8cmVuZHJvODdAZ21haWwuY29tPiAoaHR0cDovL3JvYmVydC1mbGVpc2NobWFubi5kZSlcbiAqIEB2ZXJzaW9uIDIuMS43XG4gKiovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbiAgICBkZWZpbmUoW1wianF1ZXJ5XCJdLCBmdW5jdGlvbiAoYTApIHtcbiAgICAgIHJldHVybiAoZmFjdG9yeShhMCkpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSk7XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeShqUXVlcnkpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgkKSB7XG5cbi8qKlxuICogUmVuZGVyZXIgdG8gcmVuZGVyIHRoZSBjaGFydCBvbiBhIGNhbnZhcyBvYmplY3RcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWwgICAgICBET00gZWxlbWVudCB0byBob3N0IHRoZSBjYW52YXMgKHJvb3Qgb2YgdGhlIHBsdWdpbilcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgb3B0aW9ucyBvcHRpb25zIG9iamVjdCBvZiB0aGUgcGx1Z2luXG4gKi9cbnZhciBDYW52YXNSZW5kZXJlciA9IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG5cdHZhciBjYWNoZWRCYWNrZ3JvdW5kO1xuXHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cblx0ZWwuYXBwZW5kQ2hpbGQoY2FudmFzKTtcblxuXHRpZiAodHlwZW9mKEdfdm1sQ2FudmFzTWFuYWdlcikgPT09ICdvYmplY3QnKSB7XG5cdFx0R192bWxDYW52YXNNYW5hZ2VyLmluaXRFbGVtZW50KGNhbnZhcyk7XG5cdH1cblxuXHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cblx0Y2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuc2l6ZTtcblxuXHQvLyBjYW52YXMgb24gcmV0aW5hIGRldmljZXNcblx0dmFyIHNjYWxlQnkgPSAxO1xuXHRpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxKSB7XG5cdFx0c2NhbGVCeSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXHRcdGNhbnZhcy5zdHlsZS53aWR0aCA9IGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBbb3B0aW9ucy5zaXplLCAncHgnXS5qb2luKCcnKTtcblx0XHRjYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy5zaXplICogc2NhbGVCeTtcblx0XHRjdHguc2NhbGUoc2NhbGVCeSwgc2NhbGVCeSk7XG5cdH1cblxuXHQvLyBtb3ZlIDAsMCBjb29yZGluYXRlcyB0byB0aGUgY2VudGVyXG5cdGN0eC50cmFuc2xhdGUob3B0aW9ucy5zaXplIC8gMiwgb3B0aW9ucy5zaXplIC8gMik7XG5cblx0Ly8gcm90YXRlIGNhbnZhcyAtOTBkZWdcblx0Y3R4LnJvdGF0ZSgoLTEgLyAyICsgb3B0aW9ucy5yb3RhdGUgLyAxODApICogTWF0aC5QSSk7XG5cblx0dmFyIHJhZGl1cyA9IChvcHRpb25zLnNpemUgLSBvcHRpb25zLmxpbmVXaWR0aCkgLyAyO1xuXHRpZiAob3B0aW9ucy5zY2FsZUNvbG9yICYmIG9wdGlvbnMuc2NhbGVMZW5ndGgpIHtcblx0XHRyYWRpdXMgLT0gb3B0aW9ucy5zY2FsZUxlbmd0aCArIDI7IC8vIDIgaXMgdGhlIGRpc3RhbmNlIGJldHdlZW4gc2NhbGUgYW5kIGJhclxuXHR9XG5cblx0Ly8gSUUgcG9seWZpbGwgZm9yIERhdGVcblx0RGF0ZS5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gKyhuZXcgRGF0ZSgpKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhdyBhIGNpcmNsZSBhcm91bmQgdGhlIGNlbnRlciBvZiB0aGUgY2FudmFzXG5cdCAqIEBwYXJhbSB7c3Ryb25nfSBjb2xvciAgICAgVmFsaWQgQ1NTIGNvbG9yIHN0cmluZ1xuXHQgKiBAcGFyYW0ge251bWJlcn0gbGluZVdpZHRoIFdpZHRoIG9mIHRoZSBsaW5lIGluIHB4XG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50ICAgUGVyY2VudGFnZSB0byBkcmF3IChmbG9hdCBiZXR3ZWVuIC0xIGFuZCAxKVxuXHQgKi9cblx0dmFyIGRyYXdDaXJjbGUgPSBmdW5jdGlvbihjb2xvciwgbGluZVdpZHRoLCBwZXJjZW50KSB7XG5cdFx0cGVyY2VudCA9IE1hdGgubWluKE1hdGgubWF4KC0xLCBwZXJjZW50IHx8IDApLCAxKTtcblx0XHR2YXIgaXNOZWdhdGl2ZSA9IHBlcmNlbnQgPD0gMCA/IHRydWUgOiBmYWxzZTtcblxuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjdHguYXJjKDAsIDAsIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIgKiBwZXJjZW50LCBpc05lZ2F0aXZlKTtcblxuXHRcdGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuXHRcdGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG5cblx0XHRjdHguc3Ryb2tlKCk7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXcgdGhlIHNjYWxlIG9mIHRoZSBjaGFydFxuXHQgKi9cblx0dmFyIGRyYXdTY2FsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBvZmZzZXQ7XG5cdFx0dmFyIGxlbmd0aDtcblxuXHRcdGN0eC5saW5lV2lkdGggPSAxO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLnNjYWxlQ29sb3I7XG5cblx0XHRjdHguc2F2ZSgpO1xuXHRcdGZvciAodmFyIGkgPSAyNDsgaSA+IDA7IC0taSkge1xuXHRcdFx0aWYgKGkgJSA2ID09PSAwKSB7XG5cdFx0XHRcdGxlbmd0aCA9IG9wdGlvbnMuc2NhbGVMZW5ndGg7XG5cdFx0XHRcdG9mZnNldCA9IDA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZW5ndGggPSBvcHRpb25zLnNjYWxlTGVuZ3RoICogMC42O1xuXHRcdFx0XHRvZmZzZXQgPSBvcHRpb25zLnNjYWxlTGVuZ3RoIC0gbGVuZ3RoO1xuXHRcdFx0fVxuXHRcdFx0Y3R4LmZpbGxSZWN0KC1vcHRpb25zLnNpemUvMiArIG9mZnNldCwgMCwgbGVuZ3RoLCAxKTtcblx0XHRcdGN0eC5yb3RhdGUoTWF0aC5QSSAvIDEyKTtcblx0XHR9XG5cdFx0Y3R4LnJlc3RvcmUoKTtcblx0fTtcblxuXHQvKipcblx0ICogUmVxdWVzdCBhbmltYXRpb24gZnJhbWUgd3JhcHBlciB3aXRoIHBvbHlmaWxsXG5cdCAqIEByZXR1cm4ge2Z1bmN0aW9ufSBSZXF1ZXN0IGFuaW1hdGlvbiBmcmFtZSBtZXRob2Qgb3IgdGltZW91dCBmYWxsYmFja1xuXHQgKi9cblx0dmFyIHJlcUFuaW1hdGlvbkZyYW1lID0gKGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0XHR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdFx0XHRcdHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdFx0ZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcblx0XHRcdFx0fTtcblx0fSgpKTtcblxuXHQvKipcblx0ICogRHJhdyB0aGUgYmFja2dyb3VuZCBvZiB0aGUgcGx1Z2luIGluY2x1ZGluZyB0aGUgc2NhbGUgYW5kIHRoZSB0cmFja1xuXHQgKi9cblx0dmFyIGRyYXdCYWNrZ3JvdW5kID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYob3B0aW9ucy5zY2FsZUNvbG9yKSBkcmF3U2NhbGUoKTtcblx0XHRpZihvcHRpb25zLnRyYWNrQ29sb3IpIGRyYXdDaXJjbGUob3B0aW9ucy50cmFja0NvbG9yLCBvcHRpb25zLnRyYWNrV2lkdGggfHwgb3B0aW9ucy5saW5lV2lkdGgsIDEpO1xuXHR9O1xuXG4gIC8qKlxuICAgICogQ2FudmFzIGFjY2Vzc29yXG4gICAqL1xuICB0aGlzLmdldENhbnZhcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjYW52YXM7XG4gIH07XG5cbiAgLyoqXG4gICAgKiBDYW52YXMgMkQgY29udGV4dCAnY3R4JyBhY2Nlc3NvclxuICAgKi9cbiAgdGhpcy5nZXRDdHggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY3R4O1xuICB9O1xuXG5cdC8qKlxuXHQgKiBDbGVhciB0aGUgY29tcGxldGUgY2FudmFzXG5cdCAqL1xuXHR0aGlzLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdFx0Y3R4LmNsZWFyUmVjdChvcHRpb25zLnNpemUgLyAtMiwgb3B0aW9ucy5zaXplIC8gLTIsIG9wdGlvbnMuc2l6ZSwgb3B0aW9ucy5zaXplKTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhdyB0aGUgY29tcGxldGUgY2hhcnRcblx0ICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnQgUGVyY2VudCBzaG93biBieSB0aGUgY2hhcnQgYmV0d2VlbiAtMTAwIGFuZCAxMDBcblx0ICovXG5cdHRoaXMuZHJhdyA9IGZ1bmN0aW9uKHBlcmNlbnQpIHtcblx0XHQvLyBkbyB3ZSBuZWVkIHRvIHJlbmRlciBhIGJhY2tncm91bmRcblx0XHRpZiAoISFvcHRpb25zLnNjYWxlQ29sb3IgfHwgISFvcHRpb25zLnRyYWNrQ29sb3IpIHtcblx0XHRcdC8vIGdldEltYWdlRGF0YSBhbmQgcHV0SW1hZ2VEYXRhIGFyZSBzdXBwb3J0ZWRcblx0XHRcdGlmIChjdHguZ2V0SW1hZ2VEYXRhICYmIGN0eC5wdXRJbWFnZURhdGEpIHtcblx0XHRcdFx0aWYgKCFjYWNoZWRCYWNrZ3JvdW5kKSB7XG5cdFx0XHRcdFx0ZHJhd0JhY2tncm91bmQoKTtcblx0XHRcdFx0XHRjYWNoZWRCYWNrZ3JvdW5kID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBvcHRpb25zLnNpemUgKiBzY2FsZUJ5LCBvcHRpb25zLnNpemUgKiBzY2FsZUJ5KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjdHgucHV0SW1hZ2VEYXRhKGNhY2hlZEJhY2tncm91bmQsIDAsIDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmNsZWFyKCk7XG5cdFx0XHRcdGRyYXdCYWNrZ3JvdW5kKCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY2xlYXIoKTtcblx0XHR9XG5cblx0XHRjdHgubGluZUNhcCA9IG9wdGlvbnMubGluZUNhcDtcblxuXHRcdC8vIGlmIGJhcmNvbG9yIGlzIGEgZnVuY3Rpb24gZXhlY3V0ZSBpdCBhbmQgcGFzcyB0aGUgcGVyY2VudCBhcyBhIHZhbHVlXG5cdFx0dmFyIGNvbG9yO1xuXHRcdGlmICh0eXBlb2Yob3B0aW9ucy5iYXJDb2xvcikgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbG9yID0gb3B0aW9ucy5iYXJDb2xvcihwZXJjZW50KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29sb3IgPSBvcHRpb25zLmJhckNvbG9yO1xuXHRcdH1cblxuXHRcdC8vIGRyYXcgYmFyXG5cdFx0ZHJhd0NpcmNsZShjb2xvciwgb3B0aW9ucy5saW5lV2lkdGgsIHBlcmNlbnQgLyAxMDApO1xuXHR9LmJpbmQodGhpcyk7XG5cblx0LyoqXG5cdCAqIEFuaW1hdGUgZnJvbSBzb21lIHBlcmNlbnQgdG8gc29tZSBvdGhlciBwZXJjZW50YWdlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tIFN0YXJ0aW5nIHBlcmNlbnRhZ2Vcblx0ICogQHBhcmFtIHtudW1iZXJ9IHRvICAgRmluYWwgcGVyY2VudGFnZVxuXHQgKi9cblx0dGhpcy5hbmltYXRlID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcblx0XHR2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblx0XHRvcHRpb25zLm9uU3RhcnQoZnJvbSwgdG8pO1xuXHRcdHZhciBhbmltYXRpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcm9jZXNzID0gTWF0aC5taW4oRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSwgb3B0aW9ucy5hbmltYXRlLmR1cmF0aW9uKTtcblx0XHRcdHZhciBjdXJyZW50VmFsdWUgPSBvcHRpb25zLmVhc2luZyh0aGlzLCBwcm9jZXNzLCBmcm9tLCB0byAtIGZyb20sIG9wdGlvbnMuYW5pbWF0ZS5kdXJhdGlvbik7XG5cdFx0XHR0aGlzLmRyYXcoY3VycmVudFZhbHVlKTtcblx0XHRcdG9wdGlvbnMub25TdGVwKGZyb20sIHRvLCBjdXJyZW50VmFsdWUpO1xuXHRcdFx0aWYgKHByb2Nlc3MgPj0gb3B0aW9ucy5hbmltYXRlLmR1cmF0aW9uKSB7XG5cdFx0XHRcdG9wdGlvbnMub25TdG9wKGZyb20sIHRvKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlcUFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbik7XG5cdFx0XHR9XG5cdFx0fS5iaW5kKHRoaXMpO1xuXG5cdFx0cmVxQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uKTtcblx0fS5iaW5kKHRoaXMpO1xufTtcblxudmFyIEVhc3lQaWVDaGFydCA9IGZ1bmN0aW9uKGVsLCBvcHRzKSB7XG5cdHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0XHRiYXJDb2xvcjogJyNlZjFlMjUnLFxuXHRcdHRyYWNrQ29sb3I6ICcjZjlmOWY5Jyxcblx0XHRzY2FsZUNvbG9yOiAnI2RmZTBlMCcsXG5cdFx0c2NhbGVMZW5ndGg6IDUsXG5cdFx0bGluZUNhcDogJ3JvdW5kJyxcblx0XHRsaW5lV2lkdGg6IDMsXG5cdFx0dHJhY2tXaWR0aDogdW5kZWZpbmVkLFxuXHRcdHNpemU6IDExMCxcblx0XHRyb3RhdGU6IDAsXG5cdFx0YW5pbWF0ZToge1xuXHRcdFx0ZHVyYXRpb246IDEwMDAsXG5cdFx0XHRlbmFibGVkOiB0cnVlXG5cdFx0fSxcblx0XHRlYXNpbmc6IGZ1bmN0aW9uICh4LCB0LCBiLCBjLCBkKSB7IC8vIG1vcmUgY2FuIGJlIGZvdW5kIGhlcmU6IGh0dHA6Ly9nc2dkLmNvLnVrL3NhbmRib3gvanF1ZXJ5L2Vhc2luZy9cblx0XHRcdHQgPSB0IC8gKGQvMik7XG5cdFx0XHRpZiAodCA8IDEpIHtcblx0XHRcdFx0cmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIC1jLzIgKiAoKC0tdCkqKHQtMikgLSAxKSArIGI7XG5cdFx0fSxcblx0XHRvblN0YXJ0OiBmdW5jdGlvbihmcm9tLCB0bykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH0sXG5cdFx0b25TdGVwOiBmdW5jdGlvbihmcm9tLCB0bywgY3VycmVudFZhbHVlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fSxcblx0XHRvblN0b3A6IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9O1xuXG5cdC8vIGRldGVjdCBwcmVzZW50IHJlbmRlcmVyXG5cdGlmICh0eXBlb2YoQ2FudmFzUmVuZGVyZXIpICE9PSAndW5kZWZpbmVkJykge1xuXHRcdGRlZmF1bHRPcHRpb25zLnJlbmRlcmVyID0gQ2FudmFzUmVuZGVyZXI7XG5cdH0gZWxzZSBpZiAodHlwZW9mKFNWR1JlbmRlcmVyKSAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRkZWZhdWx0T3B0aW9ucy5yZW5kZXJlciA9IFNWR1JlbmRlcmVyO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcignUGxlYXNlIGxvYWQgZWl0aGVyIHRoZSBTVkctIG9yIHRoZSBDYW52YXNSZW5kZXJlcicpO1xuXHR9XG5cblx0dmFyIG9wdGlvbnMgPSB7fTtcblx0dmFyIGN1cnJlbnRWYWx1ZSA9IDA7XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiBieSBjcmVhdGluZyB0aGUgb3B0aW9ucyBvYmplY3QgYW5kIGluaXRpYWxpemUgcmVuZGVyaW5nXG5cdCAqL1xuXHR2YXIgaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdHRoaXMuZWwgPSBlbDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG5cdFx0Ly8gbWVyZ2UgdXNlciBvcHRpb25zIGludG8gZGVmYXVsdCBvcHRpb25zXG5cdFx0Zm9yICh2YXIgaSBpbiBkZWZhdWx0T3B0aW9ucykge1xuXHRcdFx0aWYgKGRlZmF1bHRPcHRpb25zLmhhc093blByb3BlcnR5KGkpKSB7XG5cdFx0XHRcdG9wdGlvbnNbaV0gPSBvcHRzICYmIHR5cGVvZihvcHRzW2ldKSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzW2ldIDogZGVmYXVsdE9wdGlvbnNbaV07XG5cdFx0XHRcdGlmICh0eXBlb2Yob3B0aW9uc1tpXSkgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRvcHRpb25zW2ldID0gb3B0aW9uc1tpXS5iaW5kKHRoaXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gY2hlY2sgZm9yIGpRdWVyeSBlYXNpbmdcblx0XHRpZiAodHlwZW9mKG9wdGlvbnMuZWFzaW5nKSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mKGpRdWVyeSkgIT09ICd1bmRlZmluZWQnICYmIGpRdWVyeS5pc0Z1bmN0aW9uKGpRdWVyeS5lYXNpbmdbb3B0aW9ucy5lYXNpbmddKSkge1xuXHRcdFx0b3B0aW9ucy5lYXNpbmcgPSBqUXVlcnkuZWFzaW5nW29wdGlvbnMuZWFzaW5nXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3B0aW9ucy5lYXNpbmcgPSBkZWZhdWx0T3B0aW9ucy5lYXNpbmc7XG5cdFx0fVxuXG5cdFx0Ly8gcHJvY2VzcyBlYXJsaWVyIGFuaW1hdGUgb3B0aW9uIHRvIGF2b2lkIGJjIGJyZWFrc1xuXHRcdGlmICh0eXBlb2Yob3B0aW9ucy5hbmltYXRlKSA9PT0gJ251bWJlcicpIHtcblx0XHRcdG9wdGlvbnMuYW5pbWF0ZSA9IHtcblx0XHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuYW5pbWF0ZSxcblx0XHRcdFx0ZW5hYmxlZDogdHJ1ZVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mKG9wdGlvbnMuYW5pbWF0ZSkgPT09ICdib29sZWFuJyAmJiAhb3B0aW9ucy5hbmltYXRlKSB7XG5cdFx0XHRvcHRpb25zLmFuaW1hdGUgPSB7XG5cdFx0XHRcdGR1cmF0aW9uOiAxMDAwLFxuXHRcdFx0XHRlbmFibGVkOiBvcHRpb25zLmFuaW1hdGVcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gY3JlYXRlIHJlbmRlcmVyXG5cdFx0dGhpcy5yZW5kZXJlciA9IG5ldyBvcHRpb25zLnJlbmRlcmVyKGVsLCBvcHRpb25zKTtcblxuXHRcdC8vIGluaXRpYWwgZHJhd1xuXHRcdHRoaXMucmVuZGVyZXIuZHJhdyhjdXJyZW50VmFsdWUpO1xuXG5cdFx0Ly8gaW5pdGlhbCB1cGRhdGVcblx0XHRpZiAoZWwuZGF0YXNldCAmJiBlbC5kYXRhc2V0LnBlcmNlbnQpIHtcblx0XHRcdHRoaXMudXBkYXRlKHBhcnNlRmxvYXQoZWwuZGF0YXNldC5wZXJjZW50KSk7XG5cdFx0fSBlbHNlIGlmIChlbC5nZXRBdHRyaWJ1dGUgJiYgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBlcmNlbnQnKSkge1xuXHRcdFx0dGhpcy51cGRhdGUocGFyc2VGbG9hdChlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGVyY2VudCcpKSk7XG5cdFx0fVxuXHR9LmJpbmQodGhpcyk7XG5cblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgdmFsdWUgb2YgdGhlIGNoYXJ0XG5cdCAqIEBwYXJhbSAge251bWJlcn0gbmV3VmFsdWUgTnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwXG5cdCAqIEByZXR1cm4ge29iamVjdH0gICAgICAgICAgSW5zdGFuY2Ugb2YgdGhlIHBsdWdpbiBmb3IgbWV0aG9kIGNoYWluaW5nXG5cdCAqL1xuXHR0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG5cdFx0bmV3VmFsdWUgPSBwYXJzZUZsb2F0KG5ld1ZhbHVlKTtcblx0XHRpZiAob3B0aW9ucy5hbmltYXRlLmVuYWJsZWQpIHtcblx0XHRcdHRoaXMucmVuZGVyZXIuYW5pbWF0ZShjdXJyZW50VmFsdWUsIG5ld1ZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5yZW5kZXJlci5kcmF3KG5ld1ZhbHVlKTtcblx0XHR9XG5cdFx0Y3VycmVudFZhbHVlID0gbmV3VmFsdWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0uYmluZCh0aGlzKTtcblxuXHQvKipcblx0ICogRGlzYWJsZSBhbmltYXRpb25cblx0ICogQHJldHVybiB7b2JqZWN0fSBJbnN0YW5jZSBvZiB0aGUgcGx1Z2luIGZvciBtZXRob2QgY2hhaW5pbmdcblx0ICovXG5cdHRoaXMuZGlzYWJsZUFuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdG9wdGlvbnMuYW5pbWF0ZS5lbmFibGVkID0gZmFsc2U7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEVuYWJsZSBhbmltYXRpb25cblx0ICogQHJldHVybiB7b2JqZWN0fSBJbnN0YW5jZSBvZiB0aGUgcGx1Z2luIGZvciBtZXRob2QgY2hhaW5pbmdcblx0ICovXG5cdHRoaXMuZW5hYmxlQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0b3B0aW9ucy5hbmltYXRlLmVuYWJsZWQgPSB0cnVlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdGluaXQoKTtcbn07XG5cbiQuZm4uZWFzeVBpZUNoYXJ0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZU9wdGlvbnM7XG5cblx0XHRpZiAoISQuZGF0YSh0aGlzLCAnZWFzeVBpZUNoYXJ0JykpIHtcblx0XHRcdGluc3RhbmNlT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zLCAkKHRoaXMpLmRhdGEoKSk7XG5cdFx0XHQkLmRhdGEodGhpcywgJ2Vhc3lQaWVDaGFydCcsIG5ldyBFYXN5UGllQ2hhcnQodGhpcywgaW5zdGFuY2VPcHRpb25zKSk7XG5cdFx0fVxuXHR9KTtcbn07XG5cblxufSkpO1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcblxuY2xhc3MgR3JpZFN5c3RlbSBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlID0gdGhpcy5oYW5kbGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICB0aGlzLnNldFN0YXRlKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgbGlzdEl0ZW1zID0gdGhpcy5wcm9wcy5pdGVtcy5tYXAoKGl0ZW0pID0+XG4gICAgICAgICAgICA8ZGl2IGtleT17aXRlbS50aXRsZX0gY2xhc3NOYW1lPXtcImdyaWQtaXRlbSBjb2wtc20tNiBjb2wtbWQtMyBjb2wtbGctMyBcIiArIGl0ZW0uY2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9ydGZvbGlvLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Zlci1iZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17aXRlbS5saW5rfSB0YXJnZXQ9XCJfYmxhbmtcIiB0aXRsZT17aXRlbS5kZXNjcmlwdGlvbn0gPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJob3Zlci10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PntpdGVtLnRpdGxlfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPntpdGVtLmRlc2NyaXB0aW9ufTwvc21hbGw+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17aXRlbS5pbWdTbWFsbH0gY2xhc3NOYW1lPVwiaW1nLWZsdWlkXCIgYWx0PXtpdGVtLnRpdGxlfSAvPjwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT1cImdyaWQtaXRlbXMgcm93XCI+XG4gICAgICAgICAgICAgICAge2xpc3RJdGVtc31cbiAgICAgICAgICAgIDwvZGl2Pik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmlkU3lzdGVtOyIsImltcG9ydCBSZWFjdCwge0NvbXBvbmVudCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBDb3VudFVwLCB7dXNlQ291bnRVcH0gZnJvbSAncmVhY3QtY291bnR1cCc7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBTdGF0c0NvbXBvbmVudCgpIHtcblxuICAgIGNvbnN0IHtjb3VudFVwOiBjb3VudFVwMSwgc3RhcnQ6IHN0YXJ0MX0gPSB1c2VDb3VudFVwKHtcbiAgICAgICAgZW5kOiAzMCxcbiAgICAgICAgZHVyYXRpb246IDUsXG4gICAgICAgIHN0YXJ0T25Nb3VudDogZmFsc2UsXG4gICAgfSk7XG4gICAgY29uc3Qge2NvdW50VXA6IGNvdW50VXAyLCBzdGFydDogc3RhcnQyfSA9IHVzZUNvdW50VXAoe1xuICAgICAgICBlbmQ6IDExNjgwLFxuICAgICAgICBkdXJhdGlvbjogNSxcbiAgICAgICAgc3RhcnRPbk1vdW50OiBmYWxzZSxcbiAgICB9KTtcbiAgICBjb25zdCB7Y291bnRVcDogY291bnRVcDMsIHN0YXJ0OiBzdGFydDN9ID0gdXNlQ291bnRVcCh7XG4gICAgICAgIGVuZDogMTMsXG4gICAgICAgIGR1cmF0aW9uOiA1LFxuICAgICAgICBzdGFydE9uTW91bnQ6IGZhbHNlLFxuICAgIH0pO1xuICAgIGNvbnN0IHtjb3VudFVwOiBjb3VudFVwNCwgc3RhcnQ6IHN0YXJ0NH0gPSB1c2VDb3VudFVwKHtcbiAgICAgICAgZW5kOiA2MCxcbiAgICAgICAgZHVyYXRpb246IDUsXG4gICAgICAgIHN0YXJ0T25Nb3VudDogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBjb25zdCBbc3RhcnRlZCwgc2V0U3RhcnRlZF0gPSB1c2VTdGF0ZSgwKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIGxpc3RlblNjcm9sbEV2ZW50KGUpIHtcbiAgICAgICAgICAgIHZhciB0b3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgLSAkKCcjYWNoaWV2ZW1lbnRzJykub2Zmc2V0KCkudG9wICsgd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICAgICAgaWYodG9wID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydGVkID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0MSgpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydDIoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQzKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0NCgpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGFydGVkKDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBsaXN0ZW5TY3JvbGxFdmVudCk7XG4gICAgICAgIC8vIFNwZWNpZnkgaG93IHRvIGNsZWFuIHVwIGFmdGVyIHRoaXMgZWZmZWN0OlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGxpc3RlblNjcm9sbEV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlIGNlbnRlclwiPlxuICAgICAgICAgICAgPGgyPlNvbWUgU3RhdHM8L2gyPlxuICAgICAgICAgICAgPGhyLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCIgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMyBjb2wtc20tMyB3b3cgZmFkZUluRG93blwiIGRhdGEtd293LWRlbGF5PVwiMjAwbXNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjaGlldmVtZW50LWJveFwiPjxzcGFuIGNsYXNzTmFtZT1cImNvdW50XCI+e2NvdW50VXAxfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGg0PlByb2plY3QgTGF1bmNoZWQ8L2g0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGNvbC1zbS0zIHdvdyBmYWRlSW5Eb3duXCIgZGF0YS13b3ctZGVsYXk9XCI0MDBtc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNoaWV2ZW1lbnQtYm94XCI+PHNwYW4gY2xhc3NOYW1lPVwiY291bnRcIj57Y291bnRVcDJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aDQ+SG91cnMgb2YgV29yazwvaDQ+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTMgY29sLXNtLTMgd293IGZhZGVJbkRvd25cIiBkYXRhLXdvdy1kZWxheT1cIjgwMG1zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY2hpZXZlbWVudC1ib3hcIj48c3BhbiBjbGFzc05hbWU9XCJjb3VudFwiPntjb3VudFVwM308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxoND5ZZWFycyBvZiBFbmdpbmVlcmluZyBFeHA8L2g0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zIGNvbC1zbS0zIHdvdyBmYWRlSW5Eb3duXCIgZGF0YS13b3ctZGVsYXk9XCI2MDBtc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNoaWV2ZW1lbnQtYm94XCI+PHNwYW4gY2xhc3NOYW1lPVwiY291bnRcIj57Y291bnRVcDR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8aDQ+TW91bnRhaW5zIEhpa2VkPC9oND5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj4pO1xufSIsImltcG9ydCAnYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzJztcclxuaW1wb3J0ICdib290c3RyYXAnO1xyXG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgalF1ZXJ5QnJpZGdldCBmcm9tICdqcXVlcnktYnJpZGdldCc7XHJcbmltcG9ydCAnLi9qcXVlcnkuZWFzeXBpZWNoYXJ0JztcclxuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9jc3MvYWxsLmNzcyc7XHJcbmltcG9ydCAnLi9jc3Mvc3R5bGUuc2Nzcyc7XHJcbmltcG9ydCBJc290b3BlIGZyb20gJ2lzb3RvcGUtbGF5b3V0JztcclxuXHJcbmltcG9ydCBSZWFjdERvbSBmcm9tIFwicmVhY3QtZG9tXCI7XHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IEdyaWRTeXN0ZW0gZnJvbSBcIi4vY29tcG9uZW50cy9HcmlkU3lzdGVtXCI7XHJcbmltcG9ydCB7U3RhdHNDb21wb25lbnR9IGZyb20gXCIuL2NvbXBvbmVudHMvU3RhdHNDb21wb25lbnRcIjtcclxuXHJcbmNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcnRmb2xpby1ncmlkXCIpO1xyXG5jb25zdCBwcm9qZWN0cyA9IFtcclxuICAgIHtcclxuICAgICAgICB0aXRsZTogJ1N0YXJveWFsZS5pbycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICd0aGUgYmVzdCB3ZWIgc3BhY2VzaGlwIGJhdHRsZSByb3lhbGUnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnd2ViIGdhbWUnLFxyXG4gICAgICAgIGltZ1NtYWxsOiAnLi4vaW1nL3Byb2plY3RzL3N0YXJveWFsZS5wbmcnLFxyXG4gICAgICAgIGxpbms6ICcvL3N0YXJveWFsZS5pbycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAnUXVpbGwgVlInLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAndGhlIFZSIGFuaW1hdGlvbiBwYWludGVyIChPd25lZCBieSBGYWNlYm9vayknLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnYXBwJyxcclxuICAgICAgICBpbWdTbWFsbDogJy4uL2ltZy9wcm9qZWN0cy9xdWlsbC5wbmcnLFxyXG4gICAgICAgIGxpbms6ICcvL3F1aWxsLmZiLmNvbScsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAnZ2VvbTIuanMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQSBsaWdodCB3ZWlnaHQganMgZ2VvbWV0cnkgYW5kIHBoeXNpY3MgZW5naW5lJyxcclxuICAgICAgICBjYXRlZ29yeTogJ3dlYiBnYW1lJyxcclxuICAgICAgICBpbWdTbWFsbDogJy4uL2ltZy9wcm9qZWN0cy9nZW9tMi5qcy5wbmcnLFxyXG4gICAgICAgIGxpbms6ICcvL2dpdGh1Yi5jb20vQWxjaGVtaXN0MDgyMy9nZW9tMi5qcycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAndGhyZWVqcy5xdWFya3MnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAndGhlIG1vc3QgY29tcHJlaGVuc2l2ZSBUaHJlZUpzIFBhcnRpY2xlIFN5c3RlbScsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICd3ZWIgZ2FtZScsXHJcbiAgICAgICAgaW1nU21hbGw6ICcuLi9pbWcvcHJvamVjdHMvdGhyZWUucXVhcmtzLnBuZycsXHJcbiAgICAgICAgbGluazogJy8vZ2l0aHViLmNvbS9BbGNoZW1pc3QwODIzL3RocmVlLnF1YXJrcycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHRpdGxlOiAnQXN0cm9jcmFmdCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdBIG1vYmlsZSBzdHJhdGVneSBnYW1lIHRoYXQgYWxsb3dzIHVzZXJzIHRvIGRlc2lnbiB0aGVpciBvd24gdW5pdHMnLFxyXG4gICAgICAgIGNhdGVnb3J5OiAnYXBwIGdhbWUnLFxyXG4gICAgICAgIGltZ1NtYWxsOiAnLi4vaW1nL3Byb2plY3RzL2FzdHJvLWNyYWZ0LnBuZycsXHJcbiAgICAgICAgbGluazogJy8vYXN0cm8tY3JhZnQuY29tJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdHb29kaSAoYXJjaGl2ZWQpJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGFjYWRlbWljIFF1ZXN0aW9uIE1hcmtldHBsYWNlJyxcclxuICAgICAgICBjYXRlZ29yeTogJ2FwcCcsXHJcbiAgICAgICAgaW1nU21hbGw6ICcuLi9pbWcvcHJvamVjdHMvZ29vZGlpbmMucG5nJyxcclxuICAgICAgICBsaW5rOiAnLy93d3cuZmFjZWJvb2suY29tL2dvb2RpaW5jJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdaZW5lciAzRCBFbmdpbmUnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQSBEYXRhLUNlbnRlcmVkIEVudGl0eSBTeXN0ZW0gM0QgR2FtZSBlbmdpbmUgd3JpdHRlbiBpbiBKYXZhLiBJdCBpcyBhIGZyZWUgc29mdHdhcmUgJyArXHJcbiAgICAgICAgICAgICdyZWxlYXNlZCB1bmRlciBHTlUgR1BMIHYzLicsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdhcHAnLFxyXG4gICAgICAgIGltZ1NtYWxsOiAnLi4vaW1nL3Byb2plY3RzL3plbmVyLnBuZycsXHJcbiAgICAgICAgbGluazogJy8vZ2l0aHViLmNvbS9BbGNoZW1pc3QwODIzL3plbmVyJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdNeSBNaW5lY3JhZnQgU2hvcCAoYXJjaGl2ZWQpJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIGludGVncmF0ZWQgTWluZWNyYWZ0IFNlcnZlciBzaG9wcGluZyBhbmQgd2Vic2l0ZSBzeXN0ZW0gc3VwcG9ydGluZyBDaGluZXNlIEFsaXBheSAnICtcclxuICAgICAgICAgICAgJ3BheW1lbnQgbWV0aG9kIGFuZCByZWFsLXRpbWUgdmlydHVhbCBnb29kIHRyYW5zYWN0aW9uLicsXHJcbiAgICAgICAgY2F0ZWdvcnk6ICdzZXJ2ZXInLFxyXG4gICAgICAgIGltZ1NtYWxsOiAnLi4vaW1nL3Byb2plY3RzL215bWNzaG9wLnBuZycsXHJcbiAgICAgICAgbGluazogJy8vbXltY3Nob3AuY29tJyxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdPSWVyIEMrKyAoYXJjaGl2ZWQpJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FuIEMrKyBpbnRlZ3JhdGVkIGRldmVsb3BtZW50IGVudmlyb25tZW50IGZvciBwcmVwYXJpbmcgYWxnb3JpdGhtIGNvbXBpdGlvbiBhbmQgZWR1Y2F0aW9uIHB1cnBvc2UuJyxcclxuICAgICAgICBjYXRlZ29yeTogJ2FwcCcsXHJcbiAgICAgICAgaW1nU21hbGw6ICcuLi9pbWcvcHJvamVjdHMvb2llcmNwcC5wbmcnLFxyXG4gICAgICAgIGxpbms6ICcvL3d3dy5uOGxtLmNuL3Byb2R1Y3QvP2lkPTEnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB0aXRsZTogJ1RyaWJlIEFnZSAodW5maW5pc2hlZCknLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQSBUdXJuLWJhc2VkIFN0cmF0ZWd5IFJvbGUtUGxheWluZyBHYW1lIHBvd2VyZWQgYnkgWmVuZXIgM0QgRW5naW5lIGluIGRldmVsb3BtZW50JyxcclxuICAgICAgICBjYXRlZ29yeTogJ2dhbWUnLFxyXG4gICAgICAgIGltZ1NtYWxsOiAnLi4vaW1nL3Byb2plY3RzL3plbmVyLnBuZycsXHJcbiAgICAgICAgbGluazogJy8vZ2l0aHViLmNvbS9BbGNoZW1pc3QwODIzL3RyaWJlYWdlJyxcclxuICAgIH0sXHJcbl07XHJcblxyXG53cmFwcGVyID8gUmVhY3REb20ucmVuZGVyKDxHcmlkU3lzdGVtIGl0ZW1zPXtwcm9qZWN0c30gLz4sIHdyYXBwZXIpIDogZmFsc2U7XHJcblxyXG5jb25zdCBhY2hpZXZlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjaGlldmVtZW50c1wiKTtcclxuYWNoaWV2ZW1lbnRzID8gUmVhY3REb20ucmVuZGVyKDxTdGF0c0NvbXBvbmVudCAvPiwgYWNoaWV2ZW1lbnRzKSA6IGZhbHNlO1xyXG5cclxuJChmdW5jdGlvbigpIHtcclxuICAgIGpRdWVyeUJyaWRnZXQoICdpc290b3BlJywgSXNvdG9wZSwgJCApO1xyXG4gICAgJCgnLmdyaWQtaXRlbXMnKS5pc290b3BlKHtcclxuICAgICAgICBpdGVtU2VsZWN0b3I6IFwiLmdyaWQtaXRlbVwiLFxyXG4gICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcclxuICAgICAgICBsYXlvdXRNb2RlOiAnZml0Um93cycsXHJcbiAgICAgICAgZmlsdGVyOiAnKicsXHJcbiAgICAgICAgYW5pbWF0aW9uT3B0aW9uczoge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG4gICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxyXG4gICAgICAgICAgICBxdWV1ZTogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJy5jYXQgYScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcuY2F0IC5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gJCh0aGlzKS5hdHRyKCdkYXRhLWZpbHRlcicpO1xyXG4gICAgICAgICQoJy5ncmlkLWl0ZW1zJykuaXNvdG9wZSh7XHJcbiAgICAgICAgICAgIGl0ZW1TZWxlY3RvcjogXCIuZ3JpZC1pdGVtXCIsXHJcbiAgICAgICAgICAgIHBlcmNlbnRQb3NpdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgbGF5b3V0TW9kZTogJ2ZpdFJvd3MnLFxyXG4gICAgICAgICAgICBmaWx0ZXI6IHNlbGVjdG9yLFxyXG4gICAgICAgICAgICBhbmltYXRpb25PcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG4gICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcclxuICAgICAgICAgICAgICAgIHF1ZXVlOiBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIHZhciBpbmRleD0wO1xyXG4gICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKSAtICQoJyNza2lsbHMnKS5vZmZzZXQoKS50b3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgaWYodG9wPjApe1xyXG4gICAgICAgICAgICBpZihpbmRleD09PTApe1xyXG4gICAgICAgICAgICAgICAgJCgnLmNoYXJ0JykuZWFzeVBpZUNoYXJ0KHtcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAxNTIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiA4LFxyXG4gICAgICAgICAgICAgICAgICAgIGJhckNvbG9yOiAnIzEyMWQxZicsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVDb2xvcjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZU91dEJvdW5jZScsXHJcbiAgICAgICAgICAgICAgICAgICAgb25TdGVwOiBmdW5jdGlvbihmcm9tLCB0bywgcGVyY2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMuZWwpLmZpbmQoJy5wZXJjZW50JykudGV4dChNYXRoLnJvdW5kKHBlcmNlbnQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=